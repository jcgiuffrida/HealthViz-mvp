<!DOCTYPE html>
<head>
  <script>
  var host = "lucaluca.github.io";
  if ((host == window.location.host) && (window.location.protocol != "https:"))
      window.location.protocol = "https";
  </script>
  <title>HealthyChi Viz: Social Determinants of Health in Chicago</title>
  <link rel="stylesheet" href="bs/css/bootstrap-journal.min.css" />
  <link rel="stylesheet" href="style.css" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-60569315-1', 'auto');
  ga('send', 'pageview');
  </script>
  <link rel="canonical" href="{{ site.url }}{{ page.url }}" />
</head>
<body>
<div class="row">
  <div class="col-md-2 pull-left hc-logo">
    <a href="http://www.cityofchicago.org/city/en/depts/cdph/provdrs/healthychicago/svcs/healthy-chicago-2-0--community-health-assessment-and-improvement.html"><img src="healthy-chicago-logo.png" ></a>
  </div>
  <div class="col-md-8">
    <h2>HealthyChi Viz
      <br/>
      <small>Social Determinants of Health in Chicago's Community Areas</small>
    </h2>
  </div>
  <div class="col-md-2 pull-right">
    <h5>A project by <a href="https://lucaluca.github.io">Jonathan Giuffrida</a></h5>
  </div>
</div>
<div id="container">
  <div class="row">
    <div id="chart" class="col-md-8 col-xs-12">
      <div class="tip" style="display: none;">
        <div class="ca row">Community Area</div>
        <div class="rd row">
          <span class="name">label</span><br>
          <span class="value">value</span> <span class="units">units</span>
        </div>
        <div class="x row">
          <span class="name">label</span><br>
          <span class="value">value</span> <span class="units">units</span>
        </div>
        <div class="y row">
          <span class="name">label</span><br>
          <span class="value">value</span> <span class="units">units</span>
        </div>
      </div>
    </div>
    <div class="col-md-4" id="error">
      <noscript>
  		 <p>To use this website, you will need to enable JavaScript.</p>
  		 <p>Please see these <a href="http://www.enable-javascript.com/" target="_blank">
  		 instructions for enabling JavaScript in your web browser</a>.</p>
  		</noscript>
    </div>
    <div class="col-md-4 col-xs-12">
      <form id="controls">
        <div class="small-instructions">
          Choose variables from below to put in the interactive scatterplot, and mouse over each bubble to see which community area it represents. You can start by clicking on "Examples" below. <a href="#instructions" id="show-instructions">Full instructions</a>
        </div>
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
          <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="examples">
              <h4 class="panel-title">
                <a data-toggle="collapse" href="#collapseExamples" aria-expanded="true" aria-controls="collapseExamples" class="">Examples</a>
              </h4>
            </div>
            <div id="collapseExamples" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingExamples" aria-expanded="true">
              <div class="list-group">
              </div>
            </div>
          </div>
        </div>
        <table id="attributes">

        </table>

      </form>

    </div>


  </div>
  <div class="row">
    <div class="col-md-2 col-md-offset-1 legend">
      <table>
        <tr data-region=1>
          <td style="background-color: #d62728;">
          </td>
          <td>Far North Side</td>
        </tr>
        <tr data-region=2>
          <td style="background-color: #2ca02c;"></td>
          <td>North Side</td>
        </tr>
        <tr data-region=3>
          <td style="background-color: #9467bd;"></td>
          <td>Central</td>
        </tr>
      </table>
    </div>
    <div class="col-md-2 legend">
      <table>
        <tr data-region=4>
          <td style="background-color: #5091C8;">
          </td>
          <td>Northwest Side</td>
        </tr>
        <tr data-region=5>
          <td style="background-color: #A57D55;"></td>
          <td>Far Southwest Side</td>
        </tr>
        <tr data-region=6>
          <td style="background-color: #17becf;"></td>
          <td>Southwest Side</td>
        </tr>
      </table>
    </div>
    <div class="col-md-2 legend">
      <table>
        <tr data-region=7>
          <td style="background-color: #DBDB4A;">
          </td>
          <td>South Side</td>
        </tr>
        <tr data-region=8>
          <td style="background-color: #e377c2;"></td>
          <td>Far Southeast Side</td>
        </tr>
        <tr data-region=9>
          <td style="background-color: #ff7f0e;"></td>
          <td>West Side</td>
        </tr>
      </table>
    </div>
    <div class="col-md-4 statistics pull-right">
      <table>
        <thead>
          <tr>
            <td></td><td class="x"></td><td class="y"></td><td class="size"></td>
          </tr>
        </thead>
        <tbody>
          <tr class="mean">
            <td>Mean</td><td class="x"></td><td class="y"></td><td class="size"></td>
          </tr>
          <tr class="min">
            <td>Minimum</td><td class="x"></td><td class="y"></td><td class="size"></td>
          </tr>
          <tr class="25">
            <td>25%</td><td class="x"></td><td class="y"></td><td class="size"></td>
          </tr>
          <tr class="median">
            <td>Median</td><td class="x"></td><td class="y"></td><td class="size"></td>
          </tr>
          <tr class="75">
            <td>75%</td><td class="x"></td><td class="y"></td><td class="size"></td>
          </tr>
          <tr class="max">
            <td>Maximum</td><td class="x"></td><td class="y"></td><td class="size"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <a name="instructions"></a>
    <div class="col-md-6 col-md-offset-1 instructions">
      <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="Instructions">
            <h4 class="panel-title">
              <a data-toggle="collapse" href="#collapseInstructions" aria-expanded="true" aria-controls="collapseInstructions" class="">Instructions</a>
            </h4>
          </div>
          <div id="collapseInstructions" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingInstructions" aria-expanded="true">
            <div class="panel-body">
              <b>This is an interactive scatterplot</b> to look at social determinants of health alongside various health outcomes in Chicago's 77 community areas. You can put any variables on the X and Y axes to look at their relationship by clicking <code>x</code> or <code>y</code> next to the variables you want in the list below. The size of the bubbles indicates a third variable, which you can change by clicking <code>size</code>. Mouse over the bubbles for more information and to identify which community area a bubble represents. At first, this scatterplot shows how <code>Infant Mortality</code> increases in community areas that score highly on the <code>Hardship Index</code>, and the size of a bubble is proportional to the <code>Population</code> of that community area. You can also see summary statistics of the variables selected to the right.
              <br/>
              <br/>
              <b>It's important to remember</b> that this scatterplot shows relationships but not causal effects. Just because two variables show a clear trend does not mean that one causes the other: both could be caused by a third, hidden factor. We also recognize that it is difficult to draw broad conclusions about the health of Chicago's citizens by looking only at its 77 community areas, which represent vastly different populations and demographics. No community can be fully represented by a bubble on a graph. Even so, this tool can point us toward the right questions to investigate further.
              <br/>
              <br/>
              <a href="map.png"><img src="map.png" width="50%" class="pull-right"></a><b>The color of the bubbles</b> represent the nine "Sides" of Chicago, as seen in the map to the right. You can click a Side in the legend to highlight community areas.
              <br/>
              <br/>
              <b>All data is provided</b> by the Epidemiology and Public Health Informatics Unit at the Chicago Department of Public Health. The map of the community areas is by Alissapump and licensed under CC BY-SA 3.0 via <a href="http://commons.wikimedia.org/wiki/File:Map_of_the_Community_Areas_and_%27Sides%27_of_the_City_of_Chicago.svg#mediaviewer/File:Map_of_the_Community_Areas_and_%27Sides%27_of_the_City_of_Chicago.svg">Wikimedia Commons</a>. As a disclaimer, this tool is still in development and is only intended for internal planning purposes. It is not an official City of Chicago application. All code is <a href="https://github.com/lucaluca/SDH">open-source</a>, meaning free to reuse or modify, and the visualization is by <a href="https://lucaluca.github.io">Jonathan Giuffrida</a>, based on <a href="http://bl.ocks.org/msbarry/9911363">this scatterplot</a> by Michael Barry.
              <br/>
              <br/><small>Version 1.1: November 2015</small>
              <br/>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!--
  <defs>
    <filter id="f1" x="-40%" y="-40%" height="200%" width="200%">
      <feOffset result="offOut" in="SourceAlpha" dx="4" dy="4" />
      <feGaussianBlur result="blurOut" in="offOut" stdDeviation="8" />
      <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
    </filter>
  </defs>
  <circle r="30" cx="50" cy="50" style="stroke:gray; fill:aliceblue; stroke-width:3px" filter="url(#f1)" />
</svg>
-->

<script src="d3.min.js" charset="utf-8"></script>
<script src="jquery-1.11.2.min.js"></script>
<script src="bs/js/bootstrap.min.js"></script>
<script src="js/papaparse.min.js"></script>
<script src="sdh.js"></script>
