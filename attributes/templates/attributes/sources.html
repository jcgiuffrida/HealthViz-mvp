{% extends "layout.html" %}

{% block content %}

{% include "attributes/layout_attr.html" %}
{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static 'home/content/datatables.min.css' %}" />

<ol class="breadcrumb">
  <li><a href="{% url 'home' %}">Home</a></li>
  <li><a href="{% url 'attributes:index' %}">Attributes</a></li>
  <li class="active">Sources</li>
</ol>

<p class="lead">Where does the data in Health Viz come from?</p>
<p>Health Viz draws data from numerous public and private sources. Most of the data is gathered in the form of aggregate statistics about geographic areas from public surveys and health estimates. Much of the data is collected by government agencies and exists in the public domain.</p>
<p>Click on the name of a source to learn more about it.</p>


{% if source_list %}
<div class="row">
  <div class="col-md-8">
    <table id="all_sources" class="table table-striped table-hover table-condensed" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Name</th>
        <th>Available Attributes</th>
      </tr>
    </thead>
    <tbody>
      {% for source in source_list %}
        <tr>
          <td><a href="{% url 'attributes:source_detail' source.id %}">{{ source.name }}</a></td>
          <td>{{ source.num_attrs }}</td>
        </tr>
      {% endfor %}
    </tbody>
    </table>
  </div>
</div>
{% else %}
    <p>No sources are available.</p>
{% endif %}
{% endblock %}

{% block scripts %}
<script src="{% static 'home/scripts/datatables.min.js' %}"></script>
<script>
$(document).ready(function(){
  $('#all_sources').DataTable({
    "lengthChange": false,
    "order": [[1, 'desc'], [0, 'acs']],
    "dom": '<"pull-left"f>rt<"pull-left"p><"pull-right"i><"clear">',
  });
});
</script>
{% endblock %}


